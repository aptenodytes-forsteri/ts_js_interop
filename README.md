# rules_ts bug

Repro steps:

`bazel build //...`

Expected:
Builds.

Actual:
```
ERROR: file 'src/a.js' is generated by these conflicting actions:
Label: //src:src_typings, //src:src_transpile
RuleClass: ts_project rule, swc_compile rule
JavaActionClass: class com.google.devtools.build.lib.analysis.actions.StarlarkAction
Configuration: de6ea1fdb3acc0eb1b0e2d43c4aec3b12d515a3bb15869effbad8b3645bc915f
Mnemonic: CopyFile, SWCCompile
Action key: 39f01b6491dbb152c5d7bfb885bc508ce58e8b66a9b283b657acbd447a12168f, 0d1bb2379cd17b6b064e4309d793537daa71d12bfa976f51ef7e07f614bcdab6
Progress message: Copying file src/a.js, Compiling //src:src_transpile [swc src/a.js]
Action describeKey: Copying file src/a.js
  Argument: external/coreutils_linux_amd64/coreutils
  Argument: cp
  Argument: src/a.js
  Argument: bazel-out/k8-fastbuild/bin/src/a.js
  Output paths mode: OFF
, Compiling //src:src_transpile [swc src/a.js]
  Argument: external/swc_linux-x64-gnu/swc-linux-x64-gnu
  Argument: compile
  Argument: --source-maps
  Argument: false
  Argument: --config-file
  Argument: .swcrc
  Argument: --out-file
  Argument: bazel-out/k8-fastbuild/bin/src/a.js
  Argument: src/a.js
  Output paths mode: OFF

PrimaryInput: File:[/home/aforsteri/git/ts_js_interop[source]]src/a.js
PrimaryOutput: File:[[<execution_root>]bazel-out/k8-fastbuild/bin]src/a.js
Owner information: ConfiguredTargetKey{label=//src:src_typings, config=BuildConfigurationKey[de6ea1fdb3acc0eb1b0e2d43c4aec3b12d515a3bb15869effbad8b3645bc915f]}, ConfiguredTargetKey{label=//src:src_transpile, config=BuildConfigurationKey[de6ea1fdb3acc0eb1b0e2d43c4aec3b12d515a3bb15869effbad8b3645bc915f]}
MandatoryInputs: Attempted action contains artifacts not in previous action (first 5): 
        coreutils
Previous action contains artifacts not in attempted action (first 5): 
        swc-linux-x64-gnu
        .swcrc
Outputs: are equal
Use --verbose_failures to see the command lines of failed build steps.
ERROR: com.google.devtools.build.lib.actions.MutableActionGraph$ActionConflictException: for src/a.js, previous action: action 'Compiling //src:src_transpile [swc src/a.js]', attempted action: action 'Copying file src/a.js'
```
